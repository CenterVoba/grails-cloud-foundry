<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
        <title>6 Monitoring</title>
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" title="Ref" charset="utf-8"/>
    </head>
    <body class="body">
    <h1><a name="6 Monitoring">6 Monitoring</a></h1><h4>Crashes</h4><p class="paragraph"/>If a deployment or update fails, the script will display the application logs but you can view crash information and logs at any time.<p class="paragraph"/>Use the <a href="../ref/Scripts/cf-crashes.html" class="Scripts">cf-crashes</a> script to check if there have been recent crashes:<p class="paragraph"/><div class="code"><pre>&#36; grails cf&#45;crashes<p class="paragraph"/>+&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;+&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;+&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;+
| Name        | Instance ID                          | Crashed Time       |
+&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;+&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;+&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;+
| myappname&#45;1 | 9f3e61c9&#45;7c64&#45;4e57&#45;ab3e&#45;8d7e892dd722 | 04/11/2011 02:43PM |
| myappname&#45;2 | 17b6470c&#45;6444&#45;49f4&#45;8981&#45;d3bd7d7796dc | 04/11/2011 02:43PM |
| myappname&#45;3 | d1b99f31&#45;203c&#45;48e3&#45;aa17&#45;17ca26178a49 | 04/11/2011 02:44PM |
+&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;+&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;+&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;+&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;+&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;+</pre></div><p class="paragraph"/>Use the <a href="../ref/Scripts/cf-crashlogs.html" class="Scripts">cf-crashlogs</a> script to view log files for crashed instances:<p class="paragraph"/><div class="code"><pre>&#36; grails cf&#45;crashlogs<p class="paragraph"/>==== logs/stdout.log ====<p class="paragraph"/>2011&#45;03&#45;03 14:50:23,904 &#91;main&#93; ERROR context.ContextLoader  &#45; Context initialization failed
org.springframework.beans.factory.access.BootstrapException: Error executing bootstraps; nested exception is java.lang.NullPointerException
        at org.codehaus.groovy.grails.web.context.GrailsContextLoader.createWebApplicationContext(GrailsContextLoader.java:87)
&#8230;
Caused by: java.lang.NullPointerException
        at $Proxy13.save(Unknown Source)
&#8230;
Stopping Tomcat because the context stopped.</pre></div><p class="paragraph"/><h4>Logs</h4><p class="paragraph"/>Use the <a href="../ref/Scripts/cf-logs.html" class="Scripts">cf-logs</a> script to view log files:<p class="paragraph"/><div class="code"><pre>&#36; grails cf&#45;logs<p class="paragraph"/>==== logs/stderr.log ====<p class="paragraph"/>Mar 3, 2011 2:51:32 PM org.apache.coyote.http11.Http11Protocol init
INFO: Initializing Coyote HTTP/1.1 on http&#45;50478
&#8230;
INFO: Server startup in 9169 ms<p class="paragraph"/>
==== logs/stdout.log ====</pre></div><p class="paragraph"/>By default all logs are displayed, but you can limit it to one or more:<p class="paragraph"/><div class="code"><pre>&#36; grails cf&#45;logs &#45;&#45;stderr<p class="paragraph"/>==== logs/stderr.log ====<p class="paragraph"/>Mar 3, 2011 2:51:32 PM org.apache.coyote.http11.Http11Protocol init
INFO: Initializing Coyote HTTP/1.1 on http&#45;50478
&#8230;
INFO: Server startup in 9169 ms</pre></div><p class="paragraph"/>And you can also write a log to a file instead of the console:<p class="paragraph"/><div class="code"><pre>&#36; grails cf&#45;logs target/myapp.stderr.log &#45;&#45;stderr<p class="paragraph"/>Wrote logs/stderr.log to target/myapp.stderr.log</pre></div><p class="paragraph"/><h4>Viewing files</h4><p class="paragraph"/>Use the <a href="../ref/Scripts/cf-list-files.html" class="Scripts">cf-list-files</a> script to view directory listings:<p class="paragraph"/><div class="code"><pre>&#36; grails cf&#45;list&#45;files /<p class="paragraph"/>logs/                                        &#45;
tomcat/                                      &#45;</pre></div><p class="paragraph"/><div class="code"><pre>&#36; grails cf&#45;list&#45;files tomcat<p class="paragraph"/>bin/                                         &#45;
conf/                                        &#45;
lib/                                         &#45;
logs/                                        &#45;
temp/                                        &#45;
webapps/                                     &#45;
work/                                        &#45;</pre></div><p class="paragraph"/><div class="code"><pre>&#36; grails cf&#45;list&#45;files tomcat/webapps<p class="paragraph"/>ROOT/                                        &#45;</pre></div><p class="paragraph"/><div class="code"><pre>&#36; grails cf&#45;list&#45;files tomcat/webapps/ROOT<p class="paragraph"/>META&#45;INF/                                    &#45;
WEB&#45;INF/                                     &#45;
css/                                         &#45;
images/                                      &#45;
js/                                          &#45;
plugins/</pre></div><p class="paragraph"/>Use the <a href="../ref/Scripts/cf-get-file.html" class="Scripts">cf-get-file</a> script to view a file:<p class="paragraph"/><div class="code"><pre>&#36; grails cf&#45;get&#45;file tomcat/webapps/ROOT/css/main.css<p class="paragraph"/>html &#42; &#123;
    margin: 0;
    /&#42;padding: 0; SELECT NOT DISPLAYED CORRECTLY IN FIREFOX &#42;/
&#125;<p class="paragraph"/>...</pre></div><p class="paragraph"/>And you can also write the contents to a file instead of the console:<p class="paragraph"/><div class="code"><pre>&#36; grails cf&#45;get&#45;file tomcat/webapps/ROOT/css/main.css target/main.css<p class="paragraph"/>Wrote tomcat/webapps/ROOT/css/main.css to target/main.css</pre></div><p class="paragraph"/>
    
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-16219500-1']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
</body>
</html>
